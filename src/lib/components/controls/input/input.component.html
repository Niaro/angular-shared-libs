<input *ngIf="autocomplete; else defaultTpl"
	   #el
	   matInput
	   [placeholder]="placeholder"
	   [value]="value"
	   [matAutocomplete]="autocomplete"
	   [matAutocompleteConnectedTo]="autocompleteOrigin"
	   (input)="update(el.value)">

<ng-template #defaultTpl>
	<input #el
		   matInput
		   [placeholder]="placeholder"
		   [bpTextMask]="mask"
		   (input)="!mask && update(el.value)" />
</ng-template>

<ng-container *ngIf="$input?.value">
	<div *bpDelayedRender
		 class="close-btn-wrapper"
		 @slideRight>
		<button type="button"
				mat-icon-button
				(click)="$input.value=''; update(null)">
			<mat-icon>close</mat-icon>
		</button>
	</div>
</ng-container>
