@import 'imports';

.rounded-control {
	box-sizing         : border-box;
	width              : 150px !important;
	border             : 1px solid $color-dark;
	border-radius      : 15px;
	padding            : 0.25rem 1rem;
	transition         : $animation-duration $animation-function;
	transition-property: background, border-color;
	position           : relative;
	overflow           : hidden;

	.mat-icon-button {
		$size          : 30px;      // the height of the input
		width          : $size;
		height         : $size;
		line-height    : $size;
		display        : flex;
		align-items    : center;
		justify-content: center;
		position       : absolute;
		top            : -1px;
		right          : 0;

		&:hover .mat-button-focus-overlay {
			opacity: 0.1;
		}

		.mat-icon {
			font-size: 18px;
			width    : auto;
			height   : auto;
		}
	}

	input {
		color: inherit !important;
	}
}

.rounded-input,
.rounded-daterange {
	&:not(.empty) {
		padding-right: 1.8rem;
	}
}

.rounded-input,
.rounded-daterange {
	.control.ng-dirty.ng-invalid &,
	&.ng-dirty.ng-invalid {
		background  : $color-danger;
		border-color: $color-danger;

		input::selection {
			color: $color-danger;
		}
	}

	&:not(.empty) {
		background  : $color-primary;
		border-color: $color-primary;

		input::selection {
			color: $color-primary;
		}
	}

	.control.ng-dirty.ng-invalid &,
	&.ng-dirty.ng-invalid,
	&:not(.empty) {
		color: white;

		input {
			@include placeholder-color(white);
			color      : white;
			caret-color: white;

			&::selection {
				background: rgba(255, 255, 255, 0.99);
			}
		}
	}
}

.rounded-input {
	@extend .rounded-control;
	color: $color-dark;

	.mat-form-field-infix {
		border : none;
		padding: 0;
	}

	.mat-form-field-wrapper {
		padding-bottom: 0;
	}

	.mat-form-field-underline {
		display: none;
	}

	input {
		@include placeholder-color($color-dark);
		margin-top: 0 !important;
		border    : none;
		background: transparent;
	}
}

.rounded-daterange {
	@extend .rounded-control;
	display: flex;
	width  : auto !important;
}

.rounded-select {
	@extend .rounded-control;

	&:not(.mat-select-empty) {
		background  : $color-primary;
		border-color: $color-primary;

		.mat-select-arrow,
		.mat-select-value {
			color: white;
		}
	}

	.mat-select-arrow,
	.mat-select-value {
		transition: color $animation-duration $animation-function;
	}

	.mat-select-placeholder,
	.mat-select-value {
		color         : $color-dark;

		&::first-letter {
			text-transform: capitalize;
		}
	}

	.mat-select-arrow {
		margin-right: 0;
	}
}

.more-columns-select {
	width      : 105px !important;
	font-weight: $font-weight-extra-bold;

	.mat-select-arrow,
	.mat-select-value {
		color: $color-primary;
	}
}

.mat-select-panel .status .mat-option-text {
	display        : flex;
	align-items    : center;
	justify-content: space-between;

	&::first-letter {
		text-transform : capitalize;
	}
}
